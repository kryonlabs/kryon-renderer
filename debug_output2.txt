[2m2025-07-07T16:21:32.551916Z[0m [32m INFO[0m Loading KRB file: examples/02_basic_ui/button.krb
[STYLE] Parsing 1 styles from offset 0xD6
[STYLE] Style 1: name='base', name_index=0, props=4
[STYLE]   Property 0: id=0x01, size=4
[STYLE]   Property 1: id=0x02, size=4
[STYLE]   Property 2: id=0x03, size=4
[STYLE]   Property 3: id=0x04, size=1
[STYLE] Loaded style 1: 'base' with 4 properties
[STYLE] Parsed 1 styles total
[PARSE] Element 0: type=App, style_id=1, layout_flags=00000000, props=5, children=1, custom_props=0
[PARSE] Parsing standard property 0 for element 0
[PROP] Property ID: 0x22, value_type: 0x04, size: 1
[PROP] WindowTitle: 'Interactive Button Demo'
[PARSE] Parsing standard property 1 for element 0
[PROP] Property ID: 0x40, value_type: 0x04, size: 1
[PROP] Display: 'flex'
[PARSE] Parsing standard property 2 for element 0
[PROP] Property ID: 0x41, value_type: 0x04, size: 1
[PROP] FlexDirection: 'column'
[PARSE] Parsing standard property 3 for element 0
[PROP] Property ID: 0x46, value_type: 0x04, size: 1
[PROP] AlignItems: 'center'
[PARSE] Parsing standard property 4 for element 0
[PROP] Property ID: 0x49, value_type: 0x04, size: 1
[PROP] JustifyContent: 'center'
[CSS_CONVERT] Element 'element_0': display=flex, flex_direction=Some("column"), align_items=Some("center"), justify_content=Some("center") -> layout_flags=0x05
[PARSE] Auto-set cursor to Pointer for Button element
[PARSE] Element 1: type=Button, style_id=0, layout_flags=00000000, props=4, children=0, custom_props=0
[PARSE] Parsing standard property 0 for element 1
[PROP] Property ID: 0x08, value_type: 0x04, size: 1
[PROP] TextContent: 'Click Me!'
[PARSE] Parsing standard property 1 for element 1
[PROP] Property ID: 0x0B, value_type: 0x09, size: 1
[PROP] TextAlignment: 1
[PARSE] Parsing standard property 2 for element 1
[PROP] Property ID: 0x01, value_type: 0x03, size: 4
[PROP] BackgroundColor: Vec4(0.2509804, 0.2509804, 0.5019608, 1.0)
[PARSE] Parsing standard property 3 for element 1
[PROP] Property ID: 0x03, value_type: 0x03, size: 4
[PROP] BorderColor: Vec4(0.0, 0.6, 1.0, 1.0)
[EVENT] Added Click event handler: handleButtonClick
[KRB] Element 0: added child 1
[KRB] Element 1: set parent [0]
=== KRB FILE DEBUG ===
Header: element_count=2, style_count=1, string_count=7
Strings (7):
  [0]: 'base'
  [1]: 'handleButtonClick'
  [2]: 'Interactive Button Demo'
  [3]: 'flex'
  [4]: 'column'
  [5]: 'center'
  [6]: 'Click Me!'
Elements (2):
  [1]: type=Button, id='element_1', pos=(0.0,0.0), size=(150.0,50.0), children=0, text='Click Me!'
  [0]: type=App, id='element_0', pos=(0.0,0.0), size=(600.0,400.0), children=1, text=''
Root element ID: Some(0)
=== END DEBUG ===
[2m2025-07-07T16:21:32.552801Z[0m [32m INFO[0m Initializing Raylib renderer with properties: 600x400 'Kryon Raylib Renderer'
INFO: Initializing raylib 5.6-dev
INFO: Platform backend: DESKTOP (GLFW)
INFO: Supported raylib modules:
INFO:     > rcore:..... loaded (mandatory)
INFO:     > rlgl:...... loaded (mandatory)
INFO:     > rshapes:... loaded (optional)
INFO:     > rtextures:. loaded (optional)
INFO:     > rtext:..... loaded (optional)
INFO:     > rmodels:... loaded (optional)
INFO:     > raudio:.... loaded (optional)
MESA-LOADER: glx: failed to open i965: driver not built!
failed to load driver: i965
MESA-LOADER: glx: failed to open i965: driver not built!
failed to load driver: i965
INFO: DISPLAY: Device initialized successfully
INFO:     > Display size: 1920 x 1080
INFO:     > Screen size:  600 x 400
INFO:     > Render size:  600 x 400
INFO:     > Viewport offsets: 0, 0
INFO: GLAD: OpenGL extensions loaded successfully
INFO: GL: Supported extensions count: 224
INFO: GL: OpenGL device information:
INFO:     > Vendor:   Mesa
INFO:     > Renderer: zink Vulkan 1.3(Intel(R) HD Graphics 620 (KBL GT2) (INTEL_OPEN_SOURCE_MESA))
INFO:     > Version:  4.6 (Core Profile) Mesa 24.2.8
INFO:     > GLSL:     4.60
INFO: GL: VAO extension detected, VAO functions loaded successfully
INFO: GL: NPOT textures extension detected, full NPOT textures supported
INFO: GL: DXT compressed textures supported
INFO: GL: ETC2/EAC compressed textures supported
INFO: PLATFORM: DESKTOP (GLFW - X11): Initialized successfully
INFO: TEXTURE: [ID 1] Texture loaded successfully (1x1 | R8G8B8A8 | 1 mipmaps)
INFO: TEXTURE: [ID 1] Default texture loaded successfully
INFO: SHADER: [ID 1] Vertex shader compiled successfully
INFO: SHADER: [ID 2] Fragment shader compiled successfully
INFO: SHADER: [ID 3] Program shader loaded successfully
INFO: SHADER: [ID 3] Default shader loaded successfully
INFO: RLGL: Render batch vertex buffers loaded successfully in RAM (CPU)
INFO: RLGL: Render batch vertex buffers loaded successfully in VRAM (GPU)
INFO: RLGL: Default OpenGL state initialized successfully
INFO: TEXTURE: [ID 2] Texture loaded successfully (128x128 | GRAY_ALPHA | 1 mipmaps)
INFO: FONT: Default font loaded successfully (224 glyphs)
INFO: SYSTEM: Working Directory: /home/wao/lyra/proj/kryonlabs/kryon-renderer
INFO: TIMER: Target time per frame: 16.667 milliseconds
[RAYLIB_INIT] Window initialized: 600x400, cursor visible: true
[STYLE] Parsing 1 styles from offset 0xD6
[STYLE] Style 1: name='base', name_index=0, props=4
[STYLE]   Property 0: id=0x01, size=4
[STYLE]   Property 1: id=0x02, size=4
[STYLE]   Property 2: id=0x03, size=4
[STYLE]   Property 3: id=0x04, size=1
[STYLE] Loaded style 1: 'base' with 4 properties
[STYLE] Parsed 1 styles total
[PARSE] Element 0: type=App, style_id=1, layout_flags=00000000, props=5, children=1, custom_props=0
[PARSE] Parsing standard property 0 for element 0
[PROP] Property ID: 0x22, value_type: 0x04, size: 1
[PROP] WindowTitle: 'Interactive Button Demo'
[PARSE] Parsing standard property 1 for element 0
[PROP] Property ID: 0x40, value_type: 0x04, size: 1
[PROP] Display: 'flex'
[PARSE] Parsing standard property 2 for element 0
[PROP] Property ID: 0x41, value_type: 0x04, size: 1
[PROP] FlexDirection: 'column'
[PARSE] Parsing standard property 3 for element 0
[PROP] Property ID: 0x46, value_type: 0x04, size: 1
[PROP] AlignItems: 'center'
[PARSE] Parsing standard property 4 for element 0
[PROP] Property ID: 0x49, value_type: 0x04, size: 1
[PROP] JustifyContent: 'center'
[CSS_CONVERT] Element 'element_0': display=flex, flex_direction=Some("column"), align_items=Some("center"), justify_content=Some("center") -> layout_flags=0x05
[PARSE] Auto-set cursor to Pointer for Button element
[PARSE] Element 1: type=Button, style_id=0, layout_flags=00000000, props=4, children=0, custom_props=0
[PARSE] Parsing standard property 0 for element 1
[PROP] Property ID: 0x08, value_type: 0x04, size: 1
[PROP] TextContent: 'Click Me!'
[PARSE] Parsing standard property 1 for element 1
[PROP] Property ID: 0x0B, value_type: 0x09, size: 1
[PROP] TextAlignment: 1
[PARSE] Parsing standard property 2 for element 1
[PROP] Property ID: 0x01, value_type: 0x03, size: 4
[PROP] BackgroundColor: Vec4(0.2509804, 0.2509804, 0.5019608, 1.0)
[PARSE] Parsing standard property 3 for element 1
[PROP] Property ID: 0x03, value_type: 0x03, size: 4
[PROP] BorderColor: Vec4(0.0, 0.6, 1.0, 1.0)
[EVENT] Added Click event handler: handleButtonClick
[KRB] Element 0: added child 1
[KRB] Element 1: set parent [0]
=== KRB FILE DEBUG ===
Header: element_count=2, style_count=1, string_count=7
Strings (7):
  [0]: 'base'
  [1]: 'handleButtonClick'
  [2]: 'Interactive Button Demo'
  [3]: 'flex'
  [4]: 'column'
  [5]: 'center'
  [6]: 'Click Me!'
Elements (2):
  [1]: type=Button, id='element_1', pos=(0.0,0.0), size=(150.0,50.0), children=0, text='Click Me!'
  [0]: type=App, id='element_0', pos=(0.0,0.0), size=(600.0,400.0), children=1, text=''
Root element ID: Some(0)
=== END DEBUG ===
[2m2025-07-07T16:21:33.160981Z[0m [32m INFO[0m Loaded lua script: handleButtonClick
[2m2025-07-07T16:21:33.161052Z[0m [32m INFO[0m Successfully loaded Lua script: handleButtonClick
[TAFFY_LEGACY] Applied CENTER alignment: layout_flags=0x05, alignment_bits=1
[TAFFY_STYLE] Element 'element_0': layout_flags=0x05, display=Flex, flex_direction=Column, align_items=Some(Center), justify_content=Some(Center)
[TAFFY_NODE] Element 0 -> Taffy Node NodeId(4294967297)
[TAFFY_STYLE] Element 'element_1': layout_flags=0x00, display=Flex, flex_direction=Row, align_items=Some(FlexStart), justify_content=Some(FlexStart)
[TAFFY_NODE] Element 1 -> Taffy Node NodeId(4294967298)
[TAFFY_TREE] Element 1 (Node NodeId(4294967298)) is a leaf node
[TAFFY_TREE] Element 0 (Node NodeId(4294967297)) has children: [NodeId(4294967298)]
[TAFFY_CACHE] Element 1 'element_1' (Node NodeId(4294967298)): size=(150, 50) type=Button
[TAFFY_CACHE] Element 0 'element_0' (Node NodeId(4294967297)): size=(600, 400) type=App
[TAFFY_COMPUTED] Element 1: pos=(0, 0), size=(150, 50)
[TAFFY_COMPUTED] Element 0: pos=(0, 0), size=(600, 400)
[TAFFY_LAYOUT] Element 0: layout position parent_offset(0, 0) + taffy_offset(0, 0) = final(0, 0)
[TAFFY_LAYOUT] Element 1: layout position parent_offset(0, 0) + taffy_offset(0, 0) = final(0, 0)
[LAYOUT_APPLY] Element 0: applying computed size Vec2(600.0, 400.0) (was Vec2(600.0, 400.0))
[LAYOUT_APPLY] Element 1: applying computed size Vec2(150.0, 50.0) (was Vec2(150.0, 50.0))
[STYLE_DEBUG] Button element 1: state=Hover, bg_before=Vec4(0.2509804, 0.2509804, 0.5019608, 1.0)
[STYLE_DEBUG] Button element 1: bg_after=Vec4(0.36333334, 0.36333334, 0.5766667, 1.0)
[RENDER_TEXT] Element element_1: text='Click Me!', alignment=Center, size=Vec2(150.0, 50.0)
[2m2025-07-07T16:21:33.177612Z[0m [32m INFO[0m Starting Raylib render loop...
[STYLE_DEBUG] Button element 1: state=Normal, bg_before=Vec4(0.2509804, 0.2509804, 0.5019608, 1.0)
[STYLE_DEBUG] Button element 1: bg_after=Vec4(0.2509804, 0.2509804, 0.5019608, 1.0)
[RENDER_TEXT] Element element_1: text='Click Me!', alignment=Center, size=Vec2(150.0, 50.0)
[STYLE_DEBUG] Button element 1: state=Hover, bg_before=Vec4(0.2509804, 0.2509804, 0.5019608, 1.0)
[STYLE_DEBUG] Button element 1: bg_after=Vec4(0.36333334, 0.36333334, 0.5766667, 1.0)
[RENDER_TEXT] Element element_1: text='Click Me!', alignment=Center, size=Vec2(150.0, 50.0)
[STYLE_DEBUG] Button element 1: state=Active, bg_before=Vec4(0.2509804, 0.2509804, 0.5019608, 1.0)
[STYLE_DEBUG] Button element 1: bg_after=Vec4(0.20078433, 0.20078433, 0.40156865, 1.0)
[RENDER_TEXT] Element element_1: text='Click Me!', alignment=Center, size=Vec2(150.0, 50.0)
ðŸŽ¯ Button clicked! Hello from Lua script!
[STYLE_DEBUG] Button element 1: state=Hover, bg_before=Vec4(0.2509804, 0.2509804, 0.5019608, 1.0)
[STYLE_DEBUG] Button element 1: bg_after=Vec4(0.36333334, 0.36333334, 0.5766667, 1.0)
[RENDER_TEXT] Element element_1: text='Click Me!', alignment=Center, size=Vec2(150.0, 50.0)
[STYLE_DEBUG] Button element 1: state=Active, bg_before=Vec4(0.2509804, 0.2509804, 0.5019608, 1.0)
[STYLE_DEBUG] Button element 1: bg_after=Vec4(0.20078433, 0.20078433, 0.40156865, 1.0)
[RENDER_TEXT] Element element_1: text='Click Me!', alignment=Center, size=Vec2(150.0, 50.0)
ðŸŽ¯ Button clicked! Hello from Lua script!
[STYLE_DEBUG] Button element 1: state=Hover, bg_before=Vec4(0.2509804, 0.2509804, 0.5019608, 1.0)
[STYLE_DEBUG] Button element 1: bg_after=Vec4(0.36333334, 0.36333334, 0.5766667, 1.0)
[RENDER_TEXT] Element element_1: text='Click Me!', alignment=Center, size=Vec2(150.0, 50.0)
[STYLE_DEBUG] Button element 1: state=Active, bg_before=Vec4(0.2509804, 0.2509804, 0.5019608, 1.0)
[STYLE_DEBUG] Button element 1: bg_after=Vec4(0.20078433, 0.20078433, 0.40156865, 1.0)
[RENDER_TEXT] Element element_1: text='Click Me!', alignment=Center, size=Vec2(150.0, 50.0)
ðŸŽ¯ Button clicked! Hello from Lua script!
[STYLE_DEBUG] Button element 1: state=Hover, bg_before=Vec4(0.2509804, 0.2509804, 0.5019608, 1.0)
[STYLE_DEBUG] Button element 1: bg_after=Vec4(0.36333334, 0.36333334, 0.5766667, 1.0)
[RENDER_TEXT] Element element_1: text='Click Me!', alignment=Center, size=Vec2(150.0, 50.0)
[STYLE_DEBUG] Button element 1: state=Active, bg_before=Vec4(0.2509804, 0.2509804, 0.5019608, 1.0)
[STYLE_DEBUG] Button element 1: bg_after=Vec4(0.20078433, 0.20078433, 0.40156865, 1.0)
[RENDER_TEXT] Element element_1: text='Click Me!', alignment=Center, size=Vec2(150.0, 50.0)
ðŸŽ¯ Button clicked! Hello from Lua script!
[STYLE_DEBUG] Button element 1: state=Hover, bg_before=Vec4(0.2509804, 0.2509804, 0.5019608, 1.0)
[STYLE_DEBUG] Button element 1: bg_after=Vec4(0.36333334, 0.36333334, 0.5766667, 1.0)
[RENDER_TEXT] Element element_1: text='Click Me!', alignment=Center, size=Vec2(150.0, 50.0)
[STYLE_DEBUG] Button element 1: state=Normal, bg_before=Vec4(0.2509804, 0.2509804, 0.5019608, 1.0)
[STYLE_DEBUG] Button element 1: bg_after=Vec4(0.2509804, 0.2509804, 0.5019608, 1.0)
[RENDER_TEXT] Element element_1: text='Click Me!', alignment=Center, size=Vec2(150.0, 50.0)
